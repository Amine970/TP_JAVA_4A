<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GestionRovers.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">tp-4A-2020</a> &gt; <a href="index.source.html" class="el_package">com.esiea.tp4A.server</a> &gt; <span class="el_source">GestionRovers.java</span></div><h1>GestionRovers.java</h1><pre class="source lang-java linenums">package com.esiea.tp4A.server;

import java.util.*;
import com.esiea.tp4A.domain.*;

public class GestionRovers implements RoversServer {
<span class="nc" id="L7">	protected static ArrayList&lt;Rover&gt; Liste = new ArrayList&lt;Rover&gt;();</span>
	private Carte map;
	private final int laserRange;
<span class="nc" id="L10">	public GestionRovers(Carte map, int laserRange) {</span>
<span class="nc" id="L11">		this.map = map;</span>
<span class="nc" id="L12">		this.laserRange = laserRange;</span>
<span class="nc" id="L13">	}</span>
	public Rover getRover(String player) {
<span class="nc bnc" id="L15" title="All 4 branches missed.">		for(int i=0;i&lt;Liste.size();i++) if(Liste.get(i).getName().equals(player)) return Liste.get(i);</span>
<span class="nc" id="L16">		return null;</span>
	}
	public void setRover(String player) {
<span class="nc" id="L19">		GenerateRover rov = new GenerateRover(map, Liste);</span>
<span class="nc" id="L20">		Liste.add(rov.genStart(laserRange,player));	</span>
<span class="nc" id="L21">	}</span>
	public ArrayList&lt;Rover&gt; getMapRover(int x, int y) {
<span class="nc" id="L23">		ArrayList&lt;Rover&gt; Rov = new ArrayList&lt;Rover&gt;();</span>
<span class="nc bnc" id="L24" title="All 6 branches missed.">		for(int i=0;i&lt;Liste.size();i++) if(Math.abs(Liste.get(i).getX()-x) &lt;= 30 &amp;&amp; Math.abs(Liste.get(i).getY()-y) &lt;= 30) Rov.add(Liste.get(i));</span>
<span class="nc" id="L25">		return Rov;</span>
	}
	public String getStatus(String player) {
<span class="nc" id="L28">		Rover tmp = getRover(player);</span>
<span class="nc bnc" id="L29" title="All 2 branches missed.">		if(tmp.getLive()) return &quot;En vie&quot;;</span>
<span class="nc" id="L30">		return &quot;Mort&quot;;</span>
	}

	public ArrayList&lt;Position&gt; getObstacle(int x, int y) {
<span class="nc" id="L34">		ArrayList&lt;Position&gt; obstacle = map.getObstacle();</span>
<span class="nc" id="L35">		ArrayList&lt;Position&gt; radar = new ArrayList&lt;Position&gt;();</span>
<span class="nc bnc" id="L36" title="All 6 branches missed.">		for(int i=0;i&lt;obstacle.size();i++) if(Math.abs(obstacle.get(i).getX()-x) &lt;= 30 &amp;&amp; Math.abs(obstacle.get(i).getY()-y) &lt;= 30) radar.add(obstacle.get(i));</span>
<span class="nc" id="L37">		return radar;</span>
	}
	public boolean containRover(String player) {
<span class="nc bnc" id="L40" title="All 4 branches missed.">		for(int i=0;i&lt;Liste.size();i++) if(Liste.get(i).getName().equals(player)) return true;</span>
<span class="nc" id="L41">		return false;</span>
	}

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>